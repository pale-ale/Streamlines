\chapter{Method}
\input{Sources/FailedAlgorithm.tex}
\input{Sources/BaseAlgorithm}


\section{Why Time Coherence is Necessary}


\input{Sources/TimeCoherenceDef.tex}
\input{Sources/TimeCoherentAlgorithm.tex}



At first, a heuristic criterion for temporal coherence between stream lines is defined.
Then ...


\begin{itemize}
    \item old implementation
    \item issues, why sth else was used
    \item turk and banks
    \item why turk and banks? (spacial coherence?)
    \item time coherence definition
\end{itemize}

We have chosen to keep most of these actions as-is, the only difference introduced is
a change to how the lengthening and shortening is done. 
Instead of the two binary choices of lengthen/shorten and front/back, which only add/subtract a tiny bit at a time,
we decided to choose a segment count at random between -5 and 5 for each end.
This allows faster growth/shrinking (and hence faster convergence) while still preventing overlaps.

\subsection{Initial Seeding}
We prepare the image for the optimization routine by adding many streamlets with seeds on a regular grid to the image.
This can also be done randomly yielding similar image quality,
however strided access is more efficient with little to no benefit for the latter.

\subsection{Oracle}
The oracle from Turk and Bank's algorithm is used to suggest shorten/lengthen and move operations.
Our oracle focuses on shorten/lengthen suggestions only.

\subsection{Adding time coherence}
We added two important modifications to the aforementioned algorithm to make it partially time-coherent.
The first modification affects how seeds are chosen in the beginning of an optimization pass; the second affects
how the energy measure is computed and lines are guided toward their final positions.
